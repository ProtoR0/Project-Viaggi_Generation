<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>Area admin</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous" />
	<link rel="stylesheet" th:href="@{/static/css/admin.css}" />
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa"
		crossorigin="anonymous"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

</head>

<body>
	<div class="container p-0">
		<header class="col-12" th:replace="../template/template :: header"></header>
		<nav th:replace="../template/template :: navFragment"></nav>
		<section>
			<div th:if="${RecensioniDaVerificare}" id="popup">
				<p>Ci sono delle recensioni che vanno controllate prima della pubblicazione! <a
						th:href="@{/area_admin2}">Review</a></p>
			</div>
			<h3 class="pt-2">Area Admin - Viaggi Utente - Lista utenti registrati</h3>
			<div class="row p-3">

				<div class="col-5" id="centroAdmin">

					<table class="table table-striped table-responsive">
						<thead>
							<tr>
								<th class="align-middle" th:text="#{label.username}"></th>
								<th class="align-middle" th:text="#{label.email}"></th>
								<th></th>
							</tr>
						</thead>
						<tbody>
							<tr th:each="user : ${utenti}">
								<td class="align-middle" th:text="${user.username}"></td>
								<td class="align-middle" th:text="${user.email}"></td>

								<td class="align-middle text-end">
									<a th:href="@{/area_admin/deleteUtente(id=${user.id})}"
										class="btn btn-danger btn-sm small-button" th:text="#{btn.delete}"></a>
								</td>
							</tr>
						</tbody>
					</table>

				</div>
				<div class="col-7">
					<table class="table table-striped table-responsive">
						<thead>
							<tr>
								<th class="align-middle" th:text="#{label.stato}"></th>
								<th class="align-middle" th:text="#{label.titolo}"></th>
								<th class="align-middle" th:text="#{label.destinazione}"></th>
								<th class="align-middle" th:text="#{label.durata}"></th>
								<th class="align-middle" th:text="#{label.username}"></th>
								<th></th>
							</tr>
						</thead>
						<tbody>
							<tr th:each="r : ${recensioni1}">
								<td th:text="#{label.stato.Pubblicato}" class="align-middle"></td>

								<td class="align-middle" th:text="${r.titolo}"></td>
								<td class="align-middle" th:text="${r.destinazione}"></td>
								<td class="align-middle" th:text="${r.durata}"></td>
								<td class="align-middle" th:text="${r.account.username}"></td>

								<td class="align-middle text-end">
									<a th:href="@{/area_admin2(id=${r.id})}"
										class="btn btn-primary btn-sm small-button m-1" th:text="#{btn.edit}"></a>
									<a th:href="@{/area_admin/deleteRecensione(id=${r.id})}"
										class="btn btn-danger btn-sm small-button m-1" th:text="#{btn.delete}"></a>
								</td>
							</tr>
							<tr th:each="r : ${recensioni2}">
								<td th:if="${r.pubblicato} == 2" th:text="#{label.stato.NonPubblicato}"
									class="align-middle"></td>

								<td class="align-middle" th:text="${r.titolo}"></td>
								<td class="align-middle" th:text="${r.destinazione}"></td>
								<td class="align-middle" th:text="${r.durata}"></td>
								<td class="align-middle" th:text="${r.account.username}"></td>

								<td class="align-middle text-end">
									<a th:href="@{/area_admin2(id=${r.id})}"
										class="btn btn-primary btn-sm small-button m-1" th:text="#{btn.edit}"></a>
									<a th:href="@{/area_admin/deleteRecensione(id=${r.id})}"
										class="btn btn-danger btn-sm small-button m-1" th:text="#{btn.delete}"></a>
								</td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
		</section>
		<footer th:replace="../template/template :: footerFragment"></footer>
		<script th:src="@{/static/javascript/index.js}"></script>
	</div>
</body>

</html>